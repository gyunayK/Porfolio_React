import { useState } from "react";
import useActiveSection from "@/hooks/activeSection_ID";
import useScrollCheck from "@/hooks/useScrollCheck";
import "./hamburgeStyle.css";

function Navbar() {
  const [isMenuOpen, setIsMenuOpen] = useState(false);

  const activeSection = useActiveSection(0.5);
  const isScrolled = useScrollCheck();

  const SCROLLED_COLOR = "black";
  const NOT_SCROLLED_COLOR = "white";

  const navIconStyles = {
    backgroundColor: isScrolled ? SCROLLED_COLOR : NOT_SCROLLED_COLOR,
  };

  const scrollToSection = (section) => {
    document.getElementById(section).scrollIntoView({
      behavior: "smooth",
      block: "start",
    });
    setIsMenuOpen(false);
  };

  return (
    <nav className="font-Tektur z-[9999]">
      <div
        id="nav-icon2"
        className={`p-7 fixed top-7 right-6 z-50 sm:block md:hidden scale-75 cursor-pointer ${
          isMenuOpen ? "open" : ""
        }`}
        onClick={() => setIsMenuOpen(!isMenuOpen)}
      >
        <span style={navIconStyles}></span>
        <span style={navIconStyles}></span>
        <span style={navIconStyles}></span>
        <span style={navIconStyles}></span>
        <span style={navIconStyles}></span>
        <span style={navIconStyles}></span>
      </div>

      <div
        className={` ${
          isScrolled ? "bg-white text-black" : "bg-black text-white"
        } w-screen h-full fixed top-0 right-0 transition-transform duration-[200ms] ease-in-out transform z-40 overflow-hidden ${
          isMenuOpen ? "translate-x-0" : "translate-x-full"
        }`}
      >
        <ul className="text-3xl flex flex-col items-center justify-center space-y-4 h-full gap-8 ">
          <li
            className={`cursor-pointer ${
              activeSection === "home" && "text-[#D16EFF]"
            }`}
            onClick={() => scrollToSection("home")}
          >
            HOME{" "}
          </li>
          <li
            className={`cursor-pointer ${
              activeSection === "about" && "text-[#8E00D0]"
            }`}
            onClick={() => scrollToSection("about")}
          >
            ABOUT{" "}
          </li>
          <li
            className={`cursor-pointer ${
              activeSection === "work" && "text-[#8E00D0]"
            }`}
            onClick={() => scrollToSection("work")}
          >
            WORK{" "}
          </li>
          <li
            className={`cursor-pointer ${
              activeSection === "contact" && "text-[#D16EFF]"
            }`}
            onClick={() => scrollToSection("contact")}
          >
            CONTACT{" "}
          </li>
        </ul>
      </div>

      <div
        className={`bg-black w-full transition-all duration-200 ease-in-out ${
          isScrolled ? "h-[100px]" : "h-0"
        } md:fixed hidden md:block relative z-50`}
      >
        <div className="max-w-[2000px] mx-auto flex justify-between items-center px-10 ">
          <h2
            className={`hidden md:block text-[30px] border-2 text-white rounded-lg px-2 `}
          >
            GK
          </h2>
          <ul className="text-xl text-white flex gap-10 items-center justify-center  p-8  tracking-wide">
            <li
              className={`cursor-pointer border-transparent  border-b-2 hover:border-white ${
                activeSection === "home" && "text-[#D16EFF]"
              }`}
              onClick={() => scrollToSection("home")}
            >
              HOME
            </li>
            <li
              className={`cursor-pointer border-transparent  border-b-2 hover:border-white ${
                activeSection === "about" && "text-[#D16EFF]"
              }`}
              onClick={() => scrollToSection("about")}
            >
              ABOUT
            </li>
            <li
              className={`cursor-pointer border-transparent  border-b-2 hover:border-white ${
                activeSection === "work" && "text-[#D16EFF]"
              }`}
              onClick={() => scrollToSection("work")}
            >
              WORK
            </li>
            <li
              className={`cursor-pointer border-transparent  border-b-2 hover:border-white ${
                activeSection === "contact" && "text-[#D16EFF]"
              }`}
              onClick={() => scrollToSection("contact")}
            >
              CONTACT
            </li>
            <a
              href="/Gyunay_Resume2.pdf"
              target="_blank"
              className="w-full h-full"
            >
              <li className="cursor-pointer border-2 p-3 hover:bg-black rounded-md">
                RESUME
              </li>
            </a>
          </ul>
        </div>
      </div>
    </nav>
  );
}

export default Navbar;
